<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checkout - Grabzy</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
  <style>
    body { padding: 80px 20px; background: #f9f9f9; }
    .checkout-box { background: #fff; padding: 30px; border-radius: 10px; }
    .btn-place-order { background-color: #4A148C; color: white; font-weight: bold; }
  </style>
</head>
<body>

<div class="container">
  <h2 class="text-center mb-4">Checkout</h2>
  <div class="row">
    <div class="col-md-6 checkout-box">
      <h5>Billing Details</h5>
      <form id="checkoutForm">
        <div class="form-group"><input type="text" class="form-control" placeholder="Full Name" required></div>
        <div class="form-group"><input type="email" class="form-control" placeholder="Email" required></div>
        <div class="form-group"><input type="text" class="form-control" placeholder="Phone Number" required></div>
        <div class="form-group"><textarea class="form-control" placeholder="Shipping Address" required></textarea></div>
        <div class="form-group"><select class="form-control" required>
          <option value="">Select Payment Method</option>
          <option>Cash on Delivery</option>
          <option>UPI</option>
          <option>Credit/Debit Card</option>
        </select></div>
        <button type="submit" class="btn btn-place-order btn-block">Place Order</button>
      </form>
    </div>
    <div class="col-md-6 checkout-box">
      <h5>Order Summary</h5>
      <ul id="summaryList" class="list-group mb-3"></ul>
      <h5>Total: ₹<span id="totalCheckout">0</span></h5>
    </div>
  </div>
</div>

<script>
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const list = document.getElementById("summaryList");
  const totalEl = document.getElementById("totalCheckout");
  let total = 0;
  cart.forEach(item => {
    let itemTotal = item.price * item.qty;
    total += itemTotal;
    list.innerHTML += `<li class="list-group-item d-flex justify-content-between">${item.name} × ${item.qty}<span>₹${itemTotal}</span></li>`;
  });
  totalEl.innerText = total;

  document.getElementById("checkoutForm").addEventListener("submit", function (e) {
    e.preventDefault();
    localStorage.removeItem("cart");
    window.location.href = "order-confirmation.html";
  });
</script>
</body>
</html>
