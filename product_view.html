<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Grabzy - Product Details</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"/>
  <style>
    body { font-family: Arial, sans-serif; background-color: #f5f5f5; margin: 0; padding: 0; }
    .navbar { background-color: #4A148C; padding: 1rem 2rem; }
    .navbar .nav-link { color: white !important; font-size: 20px; font-weight: bold; margin-right: 30px; }
    .navbar .nav-link:hover { color: #FFEB3B !important; }
    .navbar-brand img { height: 52px; }
    .cart-icon, .cart-count { /* styles unchanged */ }
    footer { background-color: #4A148C; color: white; padding: 20px; text-align: center; margin-top: 40px; }
    .product-details { padding: 100px 20px 40px; }
    .btn-primary { background-color: #4A148C; border: none; }
    .btn-primary:hover { background-color: #6A1B9A; }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top shadow">
    <a class="navbar-brand" href="index.html"><img src="assets/grabzy-logo.png" alt="Logo"></a>
    <div class="collapse navbar-collapse justify-content-center" id="navbarContent">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="products.html">Products</a></li>
        <li class="nav-item"><a class="nav-link" href="index.html#categories">Categories</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
      </ul>
    </div>
    <div class="d-flex align-items-center ml-auto">
      <div class="cart-icon" onclick="window.location.href='cart.html'">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-count" id="cartCount">0</span>
      </div>
    </div>
  </nav>

  <!-- Product Details -->
  <div class="product-details" id="productDetails">
    <div class="text-center">Loading product...</div>
  </div>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Grabzy. All rights reserved.</p>
  </footer>

  <!-- Scripts -->
  <script>
    document.getElementById("cartCount").innerText = localStorage.getItem("cartCount") || 0;

    const params = new URLSearchParams(window.location.search);
    const productId = parseInt(params.get("id"), 10);

    fetch("products.json")
      .then(res => res.json())
      .then(products => {
        const product = products.find(p => p.id === productId);
        const container = document.getElementById("productDetails");

        if (!product) {
          container.innerHTML = "<div class='text-center text-danger'>Product not found.</div>";
          return;
        }

        container.innerHTML = `
          <div class="container">
            <div class="row align-items-center">
              <div class="col-md-6 text-center mb-4">
                <img src="${product.image}" alt="${product.name}" class="img-fluid" style="max-height:300px;">
              </div>
              <div class="col-md-6">
                <h2>${product.name}</h2>
                <p><strong>Category:</strong> ${product.category}</p>
                <p><strong>Price:</strong> ₹${product.price}</p>
                <p><strong>Description:</strong> ${product.description || 'No description available.'}</p>
                <button class="btn btn-primary" onclick="addToCart('${product.name}')">Add to Cart</button>
                <a href="products.html" class="btn btn-secondary ml-3">← Back to Products</a>
              </div>
            </div>
          </div>`;
      });

    function addToCart(name) {
      let count = parseInt(localStorage.getItem("cartCount") || "0", 10) + 1;
      localStorage.setItem("cartCount", count);
      document.getElementById("cartCount").innerText = count;
      alert(`${name} added to cart!`);
    }
  </script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
